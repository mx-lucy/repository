webpackJsonp([12],{Vo7i:function(e,t,i){"use strict";var a=i("mtWM"),l=i.n(a);l.a.defaults.withCredentials=!0;var n=l.a.create({baseURL:"http://192.168.1.231:8088/v1",timeout:2e4});t.a=n},ej7T:function(e,t){},"q7/T":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("Vo7i"),l={getRecord:function(e){return Object(a.a)({url:"/api/rf_demo/deviceImeiInfo/query",method:"get",params:e})},deleteRecord:function(e){return Object(a.a)({url:"/api/rf_demo/deviceImeiInfo/delete",method:"delete",params:e})},updateRecord:function(e){return Object(a.a)({url:"/api/rf_demo/deviceImeiInfo/update",method:"post",params:e})}},n={name:"message2",data:function(){return{chooseList:[{label:"device_imei",value:"device_imei"},{label:"device_rfid",value:"device_rfid"}],chooseName:"请输入",queryType:"device_imei",queryValue:"",dialogStatus:"",dialogFormVisible:!1,textMap:{update:"编辑",create:"创建"},temp:{imei:"",rfid:""},listQuery:{imei:""},list:null,total:null,pageSizes:[5,10,20,30,50]}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.queryValue?(this.listQuery.imei=this.queryValue,l.getRecord(this.listQuery).then(function(t){e.list=t.data.result.info,e.total=t.data.result.count,console.log(t)})):l.getRecord().then(function(t){e.list=t.data.result.info,e.total=t.data.result.count,console.log(t)})},getList1:function(){var e=this;l.getRecord().then(function(t){e.list=t.data.result.info,e.total=t.data.result.count,console.log(t)})},handleUpdate:function(e){this.temp.imei=e.device_imei,this.temp.rfid=e.device_rfid,this.dialogStatus="update",this.dialogFormVisible=!0},handleDelete:function(e){var t=this;this.$confirm("此操作将永久删除该条记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.listQuery.imei=e.device_imei,l.deleteRecord(t.listQuery).then(function(e){t.getList(),t.$notify({title:"成功",message:"删除成功",type:"success",duration:2e3})})})},update:function(){var e=this;this.$refs.temp.validate(function(t){if(!t)return!1;l.updateRecord(e.temp).then(function(t){e.getList(),e.dialogFormVisible=!1,e.$notify({title:"成功",message:"更新成功",type:"success",duration:2e3}),e.$refs.temp.resetFields()})})},handleadd:function(){this.temp.imei=null,this.temp.rfid=null,this.dialogStatus="create",this.dialogFormVisible=!0},cancel:function(){this.dialogFormVisible=!1},handleSizeChange:function(e){this.listQuery.limit=e,console.log("每页 "+e+" 条")},handleCurrentChange:function(e){this.listQuery.offset=(e-1)*this.listQuery.limit,console.log("当前页: "+e)}}},r={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"filter-container"},[i("el-select",{staticClass:"filter-item",staticStyle:{width:"120px"},attrs:{slot:"prepend"},slot:"prepend",model:{value:e.queryType,callback:function(t){e.queryType=t},expression:"queryType"}},e._l(e.chooseList,function(e,t){return i("el-option",{key:t,attrs:{value:e.value,label:e.label}})}),1),e._v(" "),i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:e.chooseName},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleQuery(t):null}},model:{value:e.queryValue,callback:function(t){e.queryValue=t},expression:"queryValue"}}),e._v(" "),i("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"search"},on:{click:e.getList}},[e._v("搜索")]),e._v(" "),i("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"edit"},on:{click:e.handleadd}},[e._v("添加")])],1),e._v(" "),i("div",{staticStyle:{"margin-top":"20px"}},[i("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.list,"tooltip-effect":"dark",border:"",fit:"","highlight-current-row":"",height:"600","row-key":"id"}},[i("el-table-column",{attrs:{width:"65",align:"center",label:"序号",prop:"index"}}),e._v(" "),i("el-table-column",{attrs:{width:"center",align:"center",label:"imei号",prop:"device_imei"}}),e._v(" "),i("el-table-column",{attrs:{width:"center",align:"center",label:"rfid设备号",prop:"device_rfid"}}),e._v(" "),i("el-table-column",{attrs:{align:"center",label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(i){e.handleUpdate(t.row)}}},[e._v("修改\n          ")]),e._v(" "),i("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(i){e.handleDelete(t.row)}}},[e._v("删除\n          ")])]}}])})],1)],1),e._v(" "),i("div",[i("div",{staticClass:"pagination-container"},[i("el-pagination",{attrs:{"current-page":e.listQuery.page,"page-sizes":e.pageSizes,"page-size":e.listQuery.limit,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.$set(e.listQuery,"page",t)}}})],1)]),e._v(" "),i("el-dialog",{attrs:{title:e.textMap[e.dialogStatus],visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[i("el-form",{ref:"temp",staticClass:"small-space",staticStyle:{"max-width":"400px","margin-left":"50px"},attrs:{model:e.temp,"label-position":"left","label-width":"100px"}},[i("el-form-item",{attrs:{label:"imei",prop:"name"}},[(e.dialogStatus,i("el-input",{model:{value:e.temp.imei,callback:function(t){e.$set(e.temp,"imei",t)},expression:"temp.imei"}}))],1),e._v(" "),i("el-form-item",{attrs:{label:"rfid",prop:"name"}},[i("el-input",{model:{value:e.temp.rfid,callback:function(t){e.$set(e.temp,"rfid",t)},expression:"temp.rfid"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.cancel()}}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:e.update}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var o=i("VU/8")(n,r,!1,function(e){i("ej7T")},"data-v-fee7df38",null);t.default=o.exports}});
//# sourceMappingURL=12.1222d6bcc8f90b681f6e.js.map