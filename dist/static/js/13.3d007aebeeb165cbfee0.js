webpackJsonp([13],{D1lp:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("Vo7i"),l={queryDeviceRecords:function(t){return Object(s.a)({url:"/api/rf_demo/deviceInfo",method:"get",params:t})},queryDeviceID:function(t){return Object(s.a)({url:"/api/rf_demo/deviceInfoByID",method:"get",params:t})},queryDeviceTime:function(t){return Object(s.a)({url:"/api/rf_demo/deviceInfoByTime",method:"get",params:t})}},r={name:"message1",data:function(){return{listQuery:{offset:0,limit:10,rfid:null,start:"",end:""},listQueryAll:{offset:0,limit:10,imei:null,start:"",end:""},listQueryId:{offset:"",limit:"",rfid:null},listQueryImei:{offset:"",limit:"",imei:null},listQueryTime:{offset:"",limit:"",start:"",end:""},listQueryLimit:{offset:"",limit:""},limitTime:{start_time:this.startTime(),end_time:this.endTime()},list:null,total:null,queryType:"listQueryImei.imei",queryValue:"",pageSizes:[5,10,20,30,50],dateFormat:function(t,e){return t[e.property].replace("T"," ").replace("Z","")}}},created:function(){this.getList1()},methods:{handleSizeChange:function(t){this.listQuery.limit=t,this.handleQuery(),console.log("每页 "+t+" 条")},handleCurrentChange:function(t){this.listQuery.offset=(t-1)*this.listQuery.limit,this.handleQuery(),console.log("当前页: "+t)},getList:function(){this.$http.get("http://192.168.1.231:8088/v1/api/rf_demo/deviceInfo").then(function(t){console.log(t)})},getList1:function(){var t=this,e=this;this.listQueryLimit.limit=this.listQuery.limit,this.listQueryLimit.offset=this.listQuery.offset,l.queryDeviceRecords(this.listQueryLimit).then(function(i){var s=i.data.result.info;s.forEach(function(t,i){t.index=i+1+e.listQuery.offset}),t.list=s,t.total=i.data.result.count})},getList2:function(){var t=this,e=this;this.listQueryAll.limit=this.listQuery.limit,this.listQueryAll.offset=this.listQuery.offset,this.listQueryAll.imei=this.listQueryImei.imei,this.listQueryAll.start=this.listQuery.start,this.listQueryAll.end=this.listQuery.end,l.queryDeviceRecords(this.listQueryAll).then(function(i){var s=i.data.result.info;s.forEach(function(t,i){t.index=i+1+e.listQuery.offset}),t.list=s,t.total=i.data.result.count})},getList3:function(){var t=this,e=this;l.queryDeviceRecords(this.listQuery).then(function(i){console.log(i.data.result);var s=i.data.result.info;s.forEach(function(t,i){t.index=i+1+e.listQuery.offset}),t.list=s,t.total=i.data.result.count})},getList4:function(){var t=this,e=this;this.listQueryTime.limit=this.listQuery.limit,this.listQueryTime.offset=this.listQuery.offset,this.listQueryTime.start=this.listQuery.start,this.listQueryTime.end=this.listQuery.end,l.queryDeviceRecords(this.listQueryTime).then(function(i){var s=i.data.result.info;s.forEach(function(t,i){t.index=i+1+e.listQuery.offset}),t.list=s,t.total=i.data.result.count})},getList5:function(){var t=this,e=this;this.listQueryImei.limit=this.listQuery.limit,this.listQueryImei.offset=this.listQuery.offset,l.queryDeviceRecords(this.listQueryImei).then(function(i){var s=i.data.result.info;s.forEach(function(t,i){t.index=i+1+e.listQuery.offset}),t.list=s,t.total=i.data.result.count})},getList6:function(){var t=this,e=this;this.listQueryId.limit=this.listQuery.limit,this.listQueryId.offset=this.listQuery.offset,this.listQueryId.rfid=this.listQuery.rfid,l.queryDeviceRecords(this.listQueryId).then(function(i){console.log(t.listQueryId);var s=i.data.result.info;s.forEach(function(t,i){t.index=i+1+e.listQuery.offset}),t.list=s,t.total=i.data.result.count})},startTime:function(){var t=this;return{disabledDate:function(e){return t.listQuery.end?e.getTime()>=new Date(new Date(t.listQuery.end).getTime()+864e5)||e.getTime()<new Date(new Date-2592e6):e.getTime()>new Date||e.getTime()<new Date(new Date-2592e6)}}},endTime:function(){var t=this;return{disabledDate:function(e){return t.listQuery.start?e.getTime()>new Date||e.getTime()<=new Date(new Date(t.listQuery.start).getTime()-864e5):e.getTime()>new Date||e.getTime()<new Date(new Date-2592e6)}}},handleQuery:function(){this.queryValue?"listQueryImei.imei"===this.queryType?this.listQueryImei.imei=this.queryValue:"listQuery.rfid"===this.queryType&&(this.listQuery.rfid=this.queryValue):(this.listQueryImei.imei=null,this.listQuery.rfid=null),this.listQuery.start&&this.listQuery.end?this.listQuery.start>this.listQuery.end?this.$message({message:"开始时间要小于结束时间！",type:"warning",duration:1500}):this.listQueryImei.imei?this.getList2():this.listQuery.rfid?this.getList3():this.getList4():null!=this.listQueryImei.imei?this.getList5():null!=this.listQuery.rfid?this.getList6():this.getList1()}}},a={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticStyle:{"margin-top":"20px"}},[i("el-select",{staticClass:"filter-item",staticStyle:{width:"120px"},attrs:{slot:"prepend"},slot:"prepend",model:{value:t.queryType,callback:function(e){t.queryType=e},expression:"queryType"}},[i("el-option",{attrs:{value:"listQuery.rfid",label:"rfid设备号"}}),t._v(" "),i("el-option",{attrs:{value:"listQueryImei.imei",label:"imei号"}})],1),t._v(" "),i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"设备号"},model:{value:t.queryValue,callback:function(e){t.queryValue=e},expression:"queryValue"}}),t._v(" "),i("el-date-picker",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{type:"datetime","picker-options":t.limitTime.start_time,"value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"开始时间"},model:{value:t.listQuery.start,callback:function(e){t.$set(t.listQuery,"start",e)},expression:"listQuery.start"}}),t._v(" "),i("el-date-picker",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{type:"datetime","picker-options":t.limitTime.end_time,"value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"结束时间"},model:{value:t.listQuery.end,callback:function(e){t.$set(t.listQuery,"end",e)},expression:"listQuery.end"}}),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.handleQuery}},[t._v("搜索")])],1),t._v(" "),i("div",{staticStyle:{"margin-top":"20px"}},[i("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.list,"tooltip-effect":"dark",border:"",fit:"","highlight-current-row":"",height:"600","row-key":"id"}},[i("el-table-column",{attrs:{width:"65",align:"center",label:"序号",prop:"index"}}),t._v(" "),i("el-table-column",{attrs:{width:"center",align:"center",label:"imei号",prop:"imei"}}),t._v(" "),i("el-table-column",{attrs:{width:"center",align:"center",label:"编号",prop:"id"}}),t._v(" "),i("el-table-column",{attrs:{width:"center",align:"center",label:"设备号",prop:"device_rfid"}}),t._v(" "),i("el-table-column",{attrs:{align:"center",label:"内容",prop:"content"}}),t._v(" "),i("el-table-column",{attrs:{align:"center",label:"时间",prop:"create_time",formatter:t.dateFormat}})],1)],1),t._v(" "),i("div",{staticClass:"pagination-container"},[i("el-pagination",{attrs:{"current-page":t.listQuery.page,"page-sizes":t.pageSizes,"page-size":t.listQuery.limit,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.$set(t.listQuery,"page",e)}}})],1)])},staticRenderFns:[]};var n=i("VU/8")(r,a,!1,function(t){i("vKQI")},"data-v-8b776c30",null);e.default=n.exports},Vo7i:function(t,e,i){"use strict";var s=i("mtWM"),l=i.n(s);l.a.defaults.withCredentials=!0;var r=l.a.create({baseURL:"http://192.168.1.231:8088/v1",timeout:2e4});e.a=r},vKQI:function(t,e){}});
//# sourceMappingURL=13.3d007aebeeb165cbfee0.js.map